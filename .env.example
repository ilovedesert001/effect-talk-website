# -----------------------------------------------------------------------------
# Local development (Docker Postgres)
# -----------------------------------------------------------------------------

# Backend API for patterns + rules
BACKEND_API_BASE_URL=http://localhost:4000

# Database (PostgreSQL). Use this when running local DB via docker compose (port 5433 to avoid conflict with local Postgres).
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/effecttalk

# WorkOS AuthKit (GitHub OAuth). See https://workos.com/docs/authkit
WORKOS_API_KEY=sk_test_xxx
WORKOS_CLIENT_ID=client_xxx
WORKOS_REDIRECT_URI=http://localhost:3000/auth/callback
# Session cookie + AuthKit (min 32 chars; generate: openssl rand -base64 24).
# In production use a strong secret; weak/missing value disables custom session cookie fallback.
WORKOS_COOKIE_PASSWORD=xxx
# Must match WorkOS Dashboard Redirects and callback route path (public for client redirect)
NEXT_PUBLIC_WORKOS_REDIRECT_URI=http://localhost:3000/auth/callback

# Resend (email)
RESEND_API_KEY=re_xxx

# API Key pepper (server-side secret for hashing API keys).
# In production/staging this is required and must NOT be the default.
# Generate a strong secret: openssl rand -base64 32
API_KEY_PEPPER=change-me-in-production

# PostHog (usage analytics). Optional: omit for local dev (no-op client).
NEXT_PUBLIC_POSTHOG_KEY=<ph_project_api_key>
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
# POSTHOG_PERSONAL_API_KEY=<optional; only for server-side features like sourcemaps>

# App
APP_BASE_URL=http://localhost:3000
APP_ENV=local

# -----------------------------------------------------------------------------
# Production (Neon + Vercel)
# Set these in Vercel Project Settings â†’ Environment Variables for Production.
# When APP_ENV=production or APP_ENV=staging, the app uses Neon's serverless
# driver (HTTP) instead of node-postgres for connection-efficient serverless.
# -----------------------------------------------------------------------------
#
# DATABASE_URL=<Neon connection string from Neon dashboard>
# APP_ENV=production
# APP_BASE_URL=https://effecttalk.com
# BACKEND_API_BASE_URL=<production backend API URL>
# WORKOS_API_KEY=sk_live_xxx
# WORKOS_CLIENT_ID=client_xxx
# WORKOS_REDIRECT_URI=https://effecttalk.com/auth/callback
# NEXT_PUBLIC_WORKOS_REDIRECT_URI=https://effecttalk.com/auth/callback
# RESEND_API_KEY=re_xxx
# API_KEY_PEPPER=<strong production secret, e.g. openssl rand -base64 32>
# NEXT_PUBLIC_POSTHOG_KEY=<ph_project_api_key>
# NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com
